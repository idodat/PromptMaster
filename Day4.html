<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>روز چهارم: ساخت موسیقی و صدا</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Teal & Green -->
    <!-- Application Structure Plan: A single-page, vertical-scrolling application structured as a guided learning path. A sticky top navigation bar with a stepper ("Anatomy", "Workshop", "Tools") allows users to track their progress and jump between sections. This structure breaks down the topic of music generation into three digestible parts: understanding the components, applying them in a hands-on workshop, and discovering the tools. -->
    <!-- Visualization & Content Choices: 
        - Report Info: The components of a music prompt (Genre, Mood, etc.). Goal: Inform & Organize. Viz/Presentation Method: An interactive grid of "flipping" cards (HTML/CSS/JS). Interaction: Clicking a card (e.g., "Genre") flips it to reveal a detailed explanation and examples. Justification: This "discovery" model is more engaging than a flat list and helps users learn each component individually.
        - Report Info: The process of building a music prompt. Goal: Demonstrate a process & Engage. Viz/Presentation Method: An "Interactive Music Prompt Composer" with dropdowns. A key feature is the "Visual Equalizer" pane, which uses animated divs to represent the selected "Mood", providing instant, fun visual feedback. Interaction: Users select options (Genre, Mood, Instrument). The text prompt and the visual equalizer update in real-time. Justification: This makes the abstract process of prompt engineering for music tangible and reinforces the connection between words and musical concepts without playing audio.
        - Report Info: List of 10 music generation tools. Goal: Organize & Inform. Viz/Presentation Method: A filterable grid of tool cards. Interaction: Users can filter tools by type ('Vocal', 'Instrumental', 'SFX'). Justification: This adds practical utility, helping users find the right tool for their needs.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f0fdfa; /* teal-50 */
            color: #134e4a; /* teal-900 */
            scroll-behavior: smooth;
        }
        .stepper-item.active .stepper-circle {
            background-color: #14b8a6; /* teal-500 */
            color: white;
            font-weight: bold;
            transform: scale(1.1);
        }
        .stepper-item.active .stepper-label {
            color: #14b8a6; /* teal-500 */
            font-weight: 700;
        }
        .stepper-line {
            height: 2px;
            background-color: #ccfbf1; /* teal-200 */
        }
        .card-flip {
            perspective: 1000px;
        }
        .card-flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card-flip.flipped .card-flip-inner {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 0.75rem;
        }
        .card-back {
            transform: rotateY(180deg);
        }
        .tool-card {
            transition: all 0.3s ease;
        }
        .tool-card.hidden {
            transform: scale(0.9);
            opacity: 0;
            width: 0;
            height: 0;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
        .eq-bar {
            width: 15%;
            background-color: #14b8a6;
            transition: all 0.5s ease-in-out;
            animation-duration: 1.5s;
            animation-iteration-count: infinite;
            animation-direction: alternate;
        }
        @keyframes bounce {
            from { transform: scaleY(0.1); }
            to { transform: scaleY(1); }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Stepper Navigation -->
    <header class="sticky top-0 z-20 bg-white/80 backdrop-blur-md shadow-sm p-4">
        <div class="max-w-6xl mx-auto">
            <h1 class="text-center text-2xl font-extrabold text-teal-800 mb-4">روز چهارم: ساخت موسیقی و صدا</h1>
            <div id="stepper-nav" class="flex justify-between items-center">
                <a href="#anatomy" class="stepper-item flex-1 text-center" data-section="1">
                    <div class="stepper-circle w-10 h-10 mx-auto rounded-full bg-teal-200 flex items-center justify-center text-lg font-bold text-teal-600 transition-all duration-300">۱</div>
                    <p class="stepper-label text-sm mt-2 font-semibold text-teal-500 transition-colors duration-300">آناتومی پرامپت</p>
                </a>
                <div class="stepper-line flex-1"></div>
                <a href="#workshop" class="stepper-item flex-1 text-center" data-section="2">
                    <div class="stepper-circle w-10 h-10 mx-auto rounded-full bg-teal-200 flex items-center justify-center text-lg font-bold text-teal-600 transition-all duration-300">۲</div>
                    <p class="stepper-label text-sm mt-2 font-semibold text-teal-500 transition-colors duration-300">کارگاه ساخت</p>
                </a>
                <div class="stepper-line flex-1"></div>
                <a href="#tools" class="stepper-item flex-1 text-center" data-section="3">
                    <div class="stepper-circle w-10 h-10 mx-auto rounded-full bg-teal-200 flex items-center justify-center text-lg font-bold text-teal-600 transition-all duration-300">۳</div>
                    <p class="stepper-label text-sm mt-2 font-semibold text-teal-500 transition-colors duration-300">جعبه ابزار</p>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto p-4 md:p-8">

        <!-- Introduction -->
        <section id="intro" class="text-center mb-16">
            <h2 class="text-4xl font-extrabold text-teal-800">آهنگسازی با هوش مصنوعی</h2>
            <p class="mt-4 text-lg text-teal-600 max-w-3xl mx-auto">امروز کلمات را به نت‌های موسیقی تبدیل می‌کنیم. یاد می‌گیریم چگونه با توصیف ژانر، حال و هوا و سازهای مورد علاقه، به هوش مصنوعی دستور آهنگسازی بدهیم. بیایید زبان موسیقی را در پرامپت‌نویسی کشف کنیم.</p>
        </section>
        
        <!-- Section 1: Anatomy of a Prompt -->
        <section id="anatomy" class="mb-16 pt-20 -mt-20">
            <h3 class="text-3xl font-bold text-center mb-8 text-teal-800">آناتومی یک پرامپت موسیقی: روی هر کارت کلیک کنید</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                <!-- Anatomy cards will be injected by JS -->
            </div>
        </section>

        <!-- Section 2: Workshop -->
        <section id="workshop" class="mb-16 pt-20 -mt-20">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-xl border border-teal-200">
                <h3 class="text-3xl font-bold text-center mb-2 text-teal-800">کارگاه تعاملی: ساخت پرامپت موسیقی</h3>
                <p class="text-center text-teal-600 mb-8 max-w-3xl mx-auto">با انتخاب گزینه‌های زیر، پرامپت موسیقی خود را بسازید. با تغییر "حال و هوا"، به انیمیشن اکولایزر در کادر کناری دقت کنید تا حس موسیقی را به صورت بصری درک کنید.</p>
                
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- Left side: Controls -->
                    <div class="w-full lg:w-1/2 space-y-4">
                        <div>
                            <label class="block text-sm font-bold text-teal-700 mb-1">ژانر (Genre):</label>
                            <select id="music-genre" class="w-full p-2 border border-teal-300 rounded-lg bg-white">
                                <option value="Lofi hip hop">هیپ هاپ Lo-fi</option>
                                <option value="epic orchestral">ارکسترال حماسی</option>
                                <option value="80s synth-pop">سینت پاپ دهه ۸۰</option>
                                <option value="acoustic folk">فولک آکوستیک</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-teal-700 mb-1">حال و هوا (Mood):</label>
                            <select id="music-mood" class="w-full p-2 border border-teal-300 rounded-lg bg-white">
                                <option value="chill, studying, relaxing" data-eq="low">آرامش‌بخش، مناسب مطالعه</option>
                                <option value="uplifting, motivational, powerful" data-eq="high">انگیزشی و قدرتمند</option>
                                <option value="sad, melancholic, thoughtful" data-eq="mid">غمگین و تفکربرانگیز</option>
                                <option value="energetic, driving, upbeat" data-eq="dynamic">پرانرژی و ریتمیک</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-teal-700 mb-1">ساز اصلی (Instrument):</label>
                            <select id="music-instrument" class="w-full p-2 border border-teal-300 rounded-lg bg-white">
                                <option value="with prominent piano melody">پیانو</option>
                                <option value="with acoustic guitar">گیتار آکوستیک</option>
                                <option value="with violin and strings">ویولن و سازهای زهی</option>
                                <option value="with vintage synthesizers">سینتی‌سایزر قدیمی</option>
                            </select>
                        </div>
                         <div>
                            <label class="block text-sm font-bold text-teal-700 mb-1">سرعت (Tempo):</label>
                            <select id="music-tempo" class="w-full p-2 border border-teal-300 rounded-lg bg-white">
                                <option value="slow tempo, 90 BPM">آهسته (90 BPM)</option>
                                <option value="medium tempo, 120 BPM">متوسط (120 BPM)</option>
                                <option value="fast tempo, 160 BPM">سریع (160 BPM)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Right side: Output -->
                    <div class="w-full lg:w-1/2">
                        <div class="bg-teal-50 p-4 rounded-lg border border-teal-200 h-full flex flex-col">
                            <h4 class="text-lg font-bold text-teal-700 mb-3">پرامپت نهایی موسیقی:</h4>
                            <p id="music-prompt-output" class="text-sm text-teal-800 bg-white p-3 rounded-md min-h-[100px] flex-grow"></p>
                            
                            <h4 class="text-lg font-bold text-teal-700 mt-4 mb-2">حس و حال موسیقی:</h4>
                            <div id="visual-equalizer" class="h-20 w-full flex justify-around items-end bg-white p-2 rounded-md">
                                <!-- EQ bars will be injected here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Tools -->
        <section id="tools" class="pt-20 -mt-20">
             <div class="text-center mb-8">
                <h2 class="text-4xl font-extrabold text-teal-800">جعبه ابزار آهنگساز</h2>
                <p class="mt-4 text-lg text-teal-600">در اینجا ۱۰ ابزار برای ساخت موسیقی و افکت‌های صوتی معرفی شده‌اند. می‌توانید بر اساس نیاز خود آنها را فیلتر کنید.</p>
            </div>
            <div id="tool-filters" class="flex justify-center gap-2 mb-8 flex-wrap">
                <button class="tool-filter-btn tab-button border-b-2 px-4 py-2 text-md font-semibold text-teal-600 transition-all duration-300 active" data-filter="all">همه</button>
                <button class="tool-filter-btn tab-button border-b-2 px-4 py-2 text-md font-semibold text-teal-600 transition-all duration-300" data-filter="vocal">موسیقی باکلام</button>
                <button class="tool-filter-btn tab-button border-b-2 px-4 py-2 text-md font-semibold text-teal-600 transition-all duration-300" data-filter="instrumental">موسیقی بی‌کلام</button>
                <button class="tool-filter-btn tab-button border-b-2 px-4 py-2 text-md font-semibold text-teal-600 transition-all duration-300" data-filter="sfx">افکت صوتی (SFX)</button>
            </div>
            <div id="tool-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Tool cards will be injected by JS -->
            </div>
        </section>

    </main>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // --- Data ---
    const anatomyData = [
        { key: 'ژانر', desc: 'سبک موسیقی (مثال: "80s synth-pop, epic orchestral")' },
        { key: 'حال و هوا', desc: 'حس کلی قطعه (مثال: "sad and melancholic, uplifting")' },
        { key: 'سازها', desc: 'سازهای اصلی (مثال: "with piano, violin, and soft drums")' },
        { key: 'سرعت', desc: 'سرعت قطعه (مثال: "slow tempo, 90 BPM")' },
        { key: 'افکت صوتی', desc: 'توصیف دقیق صدا (مثال: "sound of footsteps on dry leaves")' }
    ];

    const toolsData = [
        { name: "Suno AI", desc: "تولید موسیقی باکلام و بی‌کلام با کیفیت خیره‌کننده.", category: "vocal" },
        { name: "Udio AI", desc: "رقیب اصلی سونو، با قابلیت‌های مشابه و کیفیت بالا.", category: "vocal" },
        { name: "Google MusicFX", desc: "ابزار آزمایشی گوگل برای ساخت موسیقی بی‌کلام.", category: "instrumental" },
        { name: "Soundraw.io", desc: "ساخت موسیقی با انتخاب مود، ژانر و طول قطعه.", category: "instrumental" },
        { name: "Beatoven.ai", desc: "مناسب برای تولید موسیقی متن برای ویدئو و پادکست.", category: "instrumental" },
        { name: "Mubert", desc: "تولید موسیقی استریم و قطعات کوتاه بر اساس پرامپت.", category: "instrumental" },
        { name: "Loudly", desc: "دارای کیت‌های صوتی و ابزارهای تولید موسیقی.", category: "instrumental" },
        { name: "Soundful", desc: "تولید موسیقی Royalty-Free برای تولیدکنندگان محتوا.", category: "instrumental" },
        { name: "AIVA", desc: "دستیار آهنگسازی در سبک‌های کلاسیک و مدرن.", category: "instrumental" },
        { name: "Stable Audio", desc: "از Stability AI برای تولید موسیقی و افکت‌های صوتی.", category: "sfx" }
    ];

    // --- Section 1: Anatomy ---
    const anatomyContainer = document.querySelector('#anatomy .grid');
    anatomyData.forEach(item => {
        const cardHTML = `
            <div class="card-flip h-32 cursor-pointer group">
                <div class="card-flip-inner">
                    <div class="card-face card-front bg-white shadow-md border border-teal-200 group-hover:shadow-lg transition-shadow">
                        <span class="text-xl font-bold text-teal-600">${item.key}</span>
                    </div>
                    <div class="card-face card-back bg-teal-600 text-white p-3 text-center">
                        <p class="text-sm font-semibold">${item.desc}</p>
                    </div>
                </div>
            </div>
        `;
        anatomyContainer.innerHTML += cardHTML;
    });

    document.querySelectorAll('.card-flip').forEach(card => {
        card.addEventListener('click', () => {
            card.classList.toggle('flipped');
        });
    });

    // --- Section 2: Workshop ---
    const selectors = ['#music-genre', '#music-mood', '#music-instrument', '#music-tempo'];
    const promptOutput = document.getElementById('music-prompt-output');
    const visualEqualizer = document.getElementById('visual-equalizer');

    function generateMusicPrompt() {
        const parts = selectors.map(id => document.querySelector(id).value);
        promptOutput.textContent = `A 30-second instrumental track in the style of ${parts[0]}. 
The mood should be ${parts[1]}. 
The track should feature ${parts[2]} and have a ${parts[3]}.`;
        updateEqualizer();
    }
    
    function updateEqualizer() {
        const moodSelect = document.getElementById('music-mood');
        const eqType = moodSelect.options[moodSelect.selectedIndex].dataset.eq;
        visualEqualizer.innerHTML = '';
        const barCount = 5;
        
        for (let i = 0; i < barCount; i++) {
            const bar = document.createElement('div');
            bar.className = 'eq-bar rounded-t-sm';
            
            let height, duration;
            switch(eqType) {
                case 'low': height = Math.random() * 0.3 + 0.1; duration = Math.random() * 2 + 1.5; break;
                case 'high': height = Math.random() * 0.6 + 0.4; duration = Math.random() * 0.5 + 0.3; break;
                case 'mid': height = Math.random() * 0.4 + 0.2; duration = Math.random() * 1.5 + 1; break;
                case 'dynamic': height = Math.random() * 0.8 + 0.2; duration = Math.random() * 0.8 + 0.4; break;
            }
            
            bar.style.height = `${height * 100}%`;
            bar.style.animation = `bounce ${duration}s ease-in-out infinite alternate`;
            bar.style.animationDelay = `${i * 0.2}s`;
            visualEqualizer.appendChild(bar);
        }
    }

    selectors.forEach(selectorId => document.querySelector(selectorId).addEventListener('change', generateMusicPrompt));
    
    // --- Section 3: Tools ---
    const toolGrid = document.getElementById('tool-grid');
    const toolFilters = document.getElementById('tool-filters');

    toolsData.forEach(tool => {
        const card = document.createElement('div');
        card.className = 'tool-card bg-white rounded-lg p-4 shadow-sm border border-teal-200 hover:shadow-md hover:border-teal-300';
        card.dataset.category = tool.category;
        card.innerHTML = `
            <h5 class="font-bold text-teal-700">${tool.name}</h5>
            <p class="text-sm text-teal-500 mt-1">${tool.desc}</p>
        `;
        toolGrid.appendChild(card);
    });

    toolFilters.addEventListener('click', (e) => {
        if (e.target.matches('.tool-filter-btn')) {
            const filter = e.target.dataset.filter;
            
            document.querySelectorAll('#tool-filters .tool-filter-btn').forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');

            document.querySelectorAll('.tool-card').forEach(card => {
                if (filter === 'all' || card.dataset.category === filter) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }
    });

    // --- Stepper Navigation ---
    const sections = document.querySelectorAll('main section');
    const stepperItems = document.querySelectorAll('.stepper-item');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const sectionId = entry.target.id;
                let activeSection = '1';
                if (sectionId === 'workshop') activeSection = '2';
                else if (sectionId === 'tools') activeSection = '3';
                else if (sectionId === 'anatomy') activeSection = '1';
                
                stepperItems.forEach(item => {
                    item.classList.toggle('active', item.dataset.section === activeSection);
                });
            }
        });
    }, { rootMargin: "-40% 0px -60% 0px" });

    sections.forEach(section => observer.observe(section));

    // --- Initializations ---
    generateMusicPrompt();
});
</script>
</body>
</html>
